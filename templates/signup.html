{% extends "layout.html" %}
{% block title %} 
	Sign up 
{% endblock %}

{% block content %}

<h1> 
	<br>
	Register for an Account 
</h1>

<p>Congrats on finding the murder wepon I will need your help to find my murder. Should you choose to accept this challenege I will need to know a little bit about you so we can stay in contact. </p>

{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
{% block body %}
{% endblock %}

<form action = "{{url_for("register")}}" method = "POST">
name: <input type = "text" name = "name"></input><br>
email: <input type = "email" name = "email"></input> <br>
password: <input autofocus type = "password" name = "password"></input> <br>
confirm password: <input type = "password" name = "password_confirmed"></input> <br>
<input id="lat" type="hidden" name="latitude"></input><br>
<input id="long" type="hidden" name="longitude"></input><br> 
<input type = "submit" value = "Create an Account"></input> <br>
  <a href="#" onclick="getLocation()"> Get My Location </a>

</form>

<script>
var userlat=document.getElementById('lat')
var userlong=document.getElementById('long')
function getLocation() {
    if(navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
    }
    else { alert('upgrade your browser for this to work.')

    }

}
function showPosition(position)
  {
    console.log(position)
userlat.value=position.coords.latitude
userlong.value=position.coords.longitude
  }

</script>
{% endblock %}

